<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <style>
        /* Stretch out HTML body to take up maximum 16:9 aspect ratio */
        body { position:absolute; top:0%; left:0%; width:100%; height:100%; font-family:sans-serif; padding:0px; margin:0px; background-color: white; }
        
        /* Hide overflowing body elements */
        #ivs_outer { overflow:none; margin: 0 auto;}

        /* Stretch video frame to the same size as the HTML body */
        .ivs_video_frame { width:100%; height:100%; margin: 0 auto;}

        #ivs_video { position: relative; height:100%; width: 100%; }

        #ivs_clickables { display: block; position: absolute; transform-origin: 50% 50% 0px; height: 18.61%; width: 23.96%; left: 73.23%; top: 71.3%; }
        #ivs_clickables:hover { cursor: pointer; }
        p { display: block; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; margin: 0px;}
        #ivs_words_adidas { font-size: 28px; position: absolute; font-family: 'Arial'; font-weight: 300; color: white; text-align: right; transform-origin: 50% 50% 0px; left: -0.87%; top: 12.94%; width: 51.09%; height: 51.75%; }
        #ivs_words_explore { font-size: 23px; position: absolute; font-family: 'Poppins'; background-image: none; color: white; background-color: transparent; font-weight: 600; left: -0.87%; top: 64.68%; width: 51.09%; height: 26.87%; text-align: right; }
        #ivs_carousel_button_background { background-position: center; background-size: cover; position: absolute; box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; background-clip: content-box; background-color: rgba(255, 255, 255, 0.61); border-radius: 100%; width: 43.69%; height: 100.01%; left: 56%; top: 0%;}
        #ivs_carousel_button { background-image: url('images/shoes5.png'); background-position: center center; background-size: cover; position: absolute; transform-origin: 50% 50% 0px; width: 38.02%; height: 87.06%; left: 59.13%; top: 6.47%; border-radius: 100%; }
        #ivs_cross_button { transform-origin: 50% 50% 0px; position: absolute; top: 0%; left: 96.65%; width: 30px; height: 30px; background-color: rgba(255, 255, 255, 0.61); -webkit-mask: url(images/cross.svg) no-repeat center; mask: url(images/cross.svg) no-repeat center; cursor: pointer; }         

        #ivs_bars_container { position: absolute; display: flex; visibility: hidden; transform-origin: 50% 50% 0px; height: 4.54%; width: 96%; top: 1.55%; left: 2%; background-image: none; background-color: transparent; }
        #ivs_bar_0 { height: 5px; width: 25%; background-color: rgba(255, 255, 255, 0.5); border-radius: 5px; visibility: hidden; }
        #ivs_progress_bar_0 { width: 0%; height: 100%; background-color: white; }

        .animation_class { animation-duration: 5s; animation-name: slidein; }

        @keyframes slidein {
          from {
            width: 0%;
          }

          to {
            width: 100%;
          }
        }
        #ivs_bar_1 { height: 5px; width: 25%; background-color: rgba(255, 255, 255, 0.5); border-radius: 5px; visibility: hidden; }
        #ivs_progress_bar_1 { width: 0%; height: 100%; background-color: white;}
        #ivs_bar_2 { height: 5px; width: 25%; background-color: rgba(255, 255, 255, 0.5); border-radius: 5px; visibility: hidden; }
        #ivs_progress_bar_2 { width: 0%; height: 100%; background-color: white;}
        #ivs_bar_3 { height: 5px; width: 25%; background-color: rgba(255, 255, 255, 0.5); border-radius: 5px; visibility: hidden; }
        #ivs_progress_bar_3 { width: 0%; height: 100%; background-color: white;}

        #ivs_product_0 { background-image: url('images/shoes1.jpg'); background-position: center center; background-size: cover; position: absolute; height: 100%; width: 100%; object-fit: cover; left: 0%; top: 0%; visibility: hidden;}
        #ivs_product_1 { background-image: url('images/shoes2.jpeg'); background-position: center center; background-size: cover; position: absolute; height: 100%; width: 100%; object-fit: cover; left: 0%; top: 0%; visibility: hidden;}
        #ivs_product_2 { background-image: url('images/shoes3.jpg'); background-position: center center; background-size: cover; position: absolute; height: 100%; width: 100%; object-fit: cover; left: 0%; top: 0%; visibility: hidden;}
        #ivs_product_3 { background-image: url('images/shoes4.jpg'); background-position: center center; background-size: cover; position: absolute; height: 100%; width: 100%; object-fit: cover; left: 0%; top: 0%; visibility: hidden;}
        
    </style>
  <title>iVS</title>
</head>
<body onresize='resize()'>
  <div id="ivs_outer">

    <!-- Video frame -->
    <div class='ivs_video_frame'>
      <video id='ivs_video' autoplay muted>
        <source src = "videos/ad_video.mp4" type = "video/mp4">
      </video>
    </div>

    <div id='ivs_clickables'>
      <span id='ivs_words_adidas'>ADIDAS Collection<hr></span>
      <p id='ivs_words_explore'>EXPLORE NOW</p>
      <button id='ivs_cross_button'></button>
      <svg id='ivs_carousel_button_background'></svg>
      <svg id='ivs_carousel_button'></svg>
    </div>

    <div class='ivs_products'>
      <svg id='ivs_product_0'></svg>
      <svg id='ivs_product_1'></svg>
      <svg id='ivs_product_2'></svg>
      <svg id='ivs_product_3'></svg>
    </div>

    <div id='ivs_bars_container'>
      <div id='ivs_bar_0'>
        <div id='ivs_progress_bar_0'></div>
      </div>
      <div id='ivs_bar_1'>
        <div id='ivs_progress_bar_1'></div>
      </div>
      <div id='ivs_bar_2'>
        <div id='ivs_progress_bar_2'></div>
      </div>
      <div id='ivs_bar_3'>
        <div id='ivs_progress_bar_3'></div>
      </div>
    </div>

  </div>
  <script>

    // Resize videoframe upon loading
    document.onload = resize();
    
    // Main videoframe size in a 16:9 aspect ratio
    function resize() {
      let body_ele = document.querySelector("body");
      let outer_ele = document.querySelector("#ivs_outer");
      let min_dimension;
      
      if ((body_ele.offsetWidth / body_ele.offsetHeight) > (16 / 9)) {
        outer_ele.style.width = body_ele.offsetHeight / 9 * 16 + "px";
        outer_ele.style.height = body_ele.offsetHeight + "px";
        min_dimension = body_ele.offsetHeight / 1080 * 16; // 16 px is the standard
      }
      else {
        outer_ele.style.width = body_ele.offsetWidth + "px";
        outer_ele.style.height = body_ele.offsetWidth / 16 * 9 + "px";
        min_dimension = body_ele.offsetWidth / 1980 * 16;
      }
      
      document.querySelector("body").style.fontSize = min_dimension + "px";
    }

    document.getElementById('ivs_clickables').addEventListener('click', function() {
      var barContainer = document.getElementById('ivs_bars_container');
      var max = (barContainer.querySelectorAll('div').length)/2;
      console.log(max);
      for (let i = 0; i < max; i++) {
        document.getElementById(`ivs_bar_${i}`).style.visibility = 'visible';
      }
      function myRecursive(i, timeOut){
        setTimeout(function(){
          document.getElementById(`ivs_product_${i}`).style.visibility = 'visible';
          document.getElementById(`ivs_progress_bar_${i}`).classList.add('animation_class');
          document.getElementById(`ivs_progress_bar_${i}`).style.width = '100%';
          if (++i < max) { myRecursive(i, 5000); }
        }, timeOut)
        return 0;
      }
      myRecursive(0, 0);
    });

    document.getElementById('ivs_cross_button').addEventListener('click', function() {
      document.getElementById('ivs_clickables').style.visibility = 'hidden';
      event.stopPropagation();
    })
    
  </script>
  <style>@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap');</style>
  <script src="https://player.ivideosmart.com/ivshotspots/js/external/richmedia-ivs-integration.js"></script>
</body>
</html>